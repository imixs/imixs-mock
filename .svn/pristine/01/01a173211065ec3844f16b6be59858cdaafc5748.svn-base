package org.imixs.workflow.jee.jaxrs;

import org.imixs.workflow.ItemCollection;
import org.imixs.workflow.services.rest.RestClient;
import org.imixs.workflow.xml.XMLItemCollection;
import org.imixs.workflow.xml.XMLItemCollectionAdapter;
import org.junit.Assert;
import org.junit.Test;

/**
 * Test class for imixs-jax-rs
 * 
 * @author rsoika
 * 
 */
public class TestRestAPI {

	static String USERID = "Manfred";
	static String PASSWORD = "manfred";

	@Test
	public void testItemCollection() {

		RestClient restClient = new RestClient();

		restClient.setCredentials(USERID, PASSWORD);

		String uri = "http://localhost:8080/workflow/rest/report";

		ItemCollection report = new ItemCollection();
		report.replaceItemValue("txtName", "test");

		XMLItemCollection xmlReport;
		try {
			xmlReport = XMLItemCollectionAdapter.putItemCollection(report);
			restClient.postEntity(uri, xmlReport);
		} catch (Exception e) {

			e.printStackTrace();
			Assert.fail();
		}

		Assert.assertEquals(1, 1);
	}

}
